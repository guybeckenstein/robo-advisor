{% load static %}
<div class="watchlist-chosen-stock">
  {% if is_chosen_stock_template is True %}
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">
            Graph
          </th>
          <th scope="col">
            Image
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">
            Forecast Stock
          </th>
          <td>
            <img class="img-fluid" src="{% static forecast_stock_img_name %}" alt="Forecast Stock of {{ symbol }}" name="Forecast Stock of {{ symbol }}">
          </td>
        </tr>
        <tr>
          <th scope="row">
            Bollinger Bands Squeeze Strategy
          </th>
          <td>
            <img class="img-fluid" src="{% static bb_strategy_img_name %}" alt="BBS Strategy Graph of {{ symbol }}" name="BB Strategy Graph of {{ symbol }}">
          </td>
        </tr>
        <tr>
          <th scope="row">
           <a href="{{ overview }}" class="iframe-link" target="_blank">
             Overview
           </a>
          </th>
          <td>
            {% if is_israeli_stock %}
              <iframe src="{{ overview }}" width="100%" height="1000" frameborder="0"></iframe>
            {% endif %}
         </td>
        </tr>
        <tr>
          <th scope="row">
            <a href="{{ more_statistics }}" class="iframe-link" target="_blank">
              More Statistics
            </a>
          </th>
          <td>
            {% if is_israeli_stock %}
              <iframe src="{{ more_statistics }}" width="100%" height="1000" frameborder="0"></iframe>
            {% endif %}
          </td>
        </tr>
        <tr>
          <th scope="row">
            <a href="{{ conversation }}" class="iframe-link" target="_blank" style="color: #FF0000;" >
              Conversation
            </a>
          </th>
        </tr>
      </tbody>
    </table>
  {% endif %}
</div>

<script>
  function loadExternalSiteContent(url, targetId) {
    const targetElement = document.getElementById(targetId);
    fetch(url)
      .then(response => response.text())
      .then(html => {
        targetElement.innerHTML = html;
      })
      .catch(error => {
        console.error('Error loading external site content:', error);
      });
  }

  // Call the function to load the conversation content
  loadExternalSiteContent('{{ conversation }}', 'conversation-content');
</script>
